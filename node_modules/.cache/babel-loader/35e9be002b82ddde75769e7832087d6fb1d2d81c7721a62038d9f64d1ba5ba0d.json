{"ast":null,"code":"import React,{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ConnecBluetooth(){const[deviceInfo,setDeviceInfo]=useState(null);const[log,setLog]=useState([]);const logMessage=msg=>setLog(prev=>[...prev,msg]);const connectBluetooth=async()=>{try{logMessage('üîç Qu√©t t·∫•t c·∫£ thi·∫øt b·ªã BLE...');const device=await navigator.bluetooth.requestDevice({acceptAllDevices:true,// Qu√©t t·∫•t c·∫£\noptionalServices:[]// Kh√¥ng c·∫ßn bi·∫øt tr∆∞·ªõc d·ªãch v·ª•\n});logMessage(`üì° ƒê√£ ch·ªçn thi·∫øt b·ªã: ${device.name||'[Kh√¥ng c√≥ t√™n]'}`);setDeviceInfo({name:device.name||'[Kh√¥ng c√≥ t√™n]',id:device.id});const server=await device.gatt.connect();logMessage('‚úÖ ƒê√£ k·∫øt n·ªëi');// D√≤ t·∫•t c·∫£ d·ªãch v·ª• (n·∫øu mu·ªën kh√°m ph√°)\nconst services=await server.getPrimaryServices();logMessage(`üõ† T√¨m th·∫•y ${services.length} d·ªãch v·ª•:`);for(const service of services){logMessage(`üîß Service UUID: ${service.uuid}`);}device.addEventListener('gattserverdisconnected',()=>{logMessage('‚ùå Thi·∫øt b·ªã ng·∫Øt k·∫øt n·ªëi');});}catch(error){console.error(error);logMessage(`‚ùå L·ªói: ${error.message}`);}};return/*#__PURE__*/_jsxs(\"div\",{style:{padding:20,fontFamily:'Arial'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDEF0 Qu\\xE9t Bluetooth (Web Bluetooth)\"}),/*#__PURE__*/_jsx(\"button\",{onClick:connectBluetooth,children:\"\\uD83D\\uDD0D Qu\\xE9t & K\\u1EBFt n\\u1ED1i\"}),deviceInfo&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:20},children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\uD83D\\uDCCB Th\\xF4ng tin thi\\u1EBFt b\\u1ECB:\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"T\\xEAn:\"}),\" \",deviceInfo.name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"ID:\"}),\" \",deviceInfo.id]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:20},children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\uD83D\\uDCC4 Log:\"}),/*#__PURE__*/_jsx(\"ul\",{children:log.map((msg,i)=>/*#__PURE__*/_jsx(\"li\",{children:msg},i))})]})]});}export default ConnecBluetooth;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","ConnecBluetooth","deviceInfo","setDeviceInfo","log","setLog","logMessage","msg","prev","connectBluetooth","device","navigator","bluetooth","requestDevice","acceptAllDevices","optionalServices","name","id","server","gatt","connect","services","getPrimaryServices","length","service","uuid","addEventListener","error","console","message","style","padding","fontFamily","children","onClick","marginTop","map","i"],"sources":["D:/CTy_TNHH_THLA/DuAn_Rac/generator_qr_code/src/pages/ConnecBluetooth.js"],"sourcesContent":["import React, { useState } from 'react'\r\n\r\nfunction ConnecBluetooth() {\r\n    \r\n  const [deviceInfo, setDeviceInfo] = useState(null);\r\n  const [log, setLog] = useState([]);\r\n\r\n  const logMessage = (msg) => setLog((prev) => [...prev, msg]);\r\n\r\n  const connectBluetooth = async () => {\r\n    try {\r\n      logMessage('üîç Qu√©t t·∫•t c·∫£ thi·∫øt b·ªã BLE...');\r\n      const device = await navigator.bluetooth.requestDevice({\r\n        acceptAllDevices: true, // Qu√©t t·∫•t c·∫£\r\n        optionalServices: [] // Kh√¥ng c·∫ßn bi·∫øt tr∆∞·ªõc d·ªãch v·ª•\r\n      });\r\n\r\n      logMessage(`üì° ƒê√£ ch·ªçn thi·∫øt b·ªã: ${device.name || '[Kh√¥ng c√≥ t√™n]'}`);\r\n      setDeviceInfo({\r\n        name: device.name || '[Kh√¥ng c√≥ t√™n]',\r\n        id: device.id\r\n      });\r\n\r\n      const server = await device.gatt.connect();\r\n      logMessage('‚úÖ ƒê√£ k·∫øt n·ªëi');\r\n\r\n      // D√≤ t·∫•t c·∫£ d·ªãch v·ª• (n·∫øu mu·ªën kh√°m ph√°)\r\n      const services = await server.getPrimaryServices();\r\n      logMessage(`üõ† T√¨m th·∫•y ${services.length} d·ªãch v·ª•:`);\r\n\r\n      for (const service of services) {\r\n        logMessage(`üîß Service UUID: ${service.uuid}`);\r\n      }\r\n\r\n      device.addEventListener('gattserverdisconnected', () => {\r\n        logMessage('‚ùå Thi·∫øt b·ªã ng·∫Øt k·∫øt n·ªëi');\r\n      });\r\n\r\n    } catch (error) {\r\n      console.error(error);\r\n      logMessage(`‚ùå L·ªói: ${error.message}`);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ padding: 20, fontFamily: 'Arial' }}>\r\n      <h2>üõ∞ Qu√©t Bluetooth (Web Bluetooth)</h2>\r\n      <button onClick={connectBluetooth}>üîç Qu√©t & K·∫øt n·ªëi</button>\r\n\r\n      {deviceInfo && (\r\n        <div style={{ marginTop: 20 }}>\r\n          <h4>üìã Th√¥ng tin thi·∫øt b·ªã:</h4>\r\n          <p><strong>T√™n:</strong> {deviceInfo.name}</p>\r\n          <p><strong>ID:</strong> {deviceInfo.id}</p>\r\n        </div>\r\n      )}\r\n\r\n      <div style={{ marginTop: 20 }}>\r\n        <h4>üìÑ Log:</h4>\r\n        <ul>\r\n          {log.map((msg, i) => (\r\n            <li key={i}>{msg}</li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ConnecBluetooth"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"const drawQRWithLabels = async () => {\n  const canvas = canvasRef.current;\n  const ctx = canvas.getContext(\"2d\");\n  const size = 400; // Kích thước toàn bộ ảnh (vuông)\n  const qrSize = 240;\n  const padding = 20;\n  const topLabelHeight = 40;\n  const bottomLabelHeight = 40;\n  canvas.width = size;\n  canvas.height = size;\n  ctx.clearRect(0, 0, size, size);\n\n  // Nền trắng\n  ctx.fillStyle = \"white\";\n  ctx.fillRect(0, 0, size, size);\n\n  // Label trên\n  ctx.fillStyle = \"black\";\n  ctx.font = \"bold 28px sans-serif\";\n  ctx.textAlign = \"center\";\n  ctx.fillText(labelTop, size / 2, padding + 20);\n\n  // Tạo QR code\n  const qr = await QRCode.create(text, {\n    errorCorrectionLevel: \"H\"\n  });\n  const modules = qr.modules;\n  const cellSize = qrSize / modules.size;\n  const startX = (size - qrSize) / 2;\n  const startY = padding + topLabelHeight;\n\n  // Vẽ QR bằng hình vuông\n  for (let r = 0; r < modules.size; r++) {\n    for (let c = 0; c < modules.size; c++) {\n      if (modules.get(r, c)) {\n        const x = startX + c * cellSize;\n        const y = startY + r * cellSize;\n        ctx.fillStyle = \"black\";\n        ctx.fillRect(x, y, cellSize, cellSize);\n      }\n    }\n  }\n\n  // Vẽ logo ở giữa\n  const logoImg = new Image();\n  logoImg.src = logoSrc;\n  logoImg.onload = () => {\n    const logoSize = qrSize * 0.25;\n    const logoX = size / 2 - logoSize / 2;\n    const logoY = startY + qrSize / 2 - logoSize / 2;\n\n    // Nền trắng cho logo\n    ctx.fillStyle = \"white\";\n    ctx.fillRect(logoX - 5, logoY - 5, logoSize + 10, logoSize + 10);\n    ctx.drawImage(logoImg, logoX, logoY, logoSize, logoSize);\n\n    // Label dưới\n    ctx.fillStyle = \"black\";\n    ctx.font = \"bold 24px sans-serif\";\n    ctx.textAlign = \"center\";\n    ctx.fillText(labelBottom, size / 2, size - padding);\n  };\n};","map":{"version":3,"names":["drawQRWithLabels","canvas","canvasRef","current","ctx","getContext","size","qrSize","padding","topLabelHeight","bottomLabelHeight","width","height","clearRect","fillStyle","fillRect","font","textAlign","fillText","labelTop","qr","QRCode","create","text","errorCorrectionLevel","modules","cellSize","startX","startY","r","c","get","x","y","logoImg","Image","src","logoSrc","onload","logoSize","logoX","logoY","drawImage","labelBottom"],"sources":["D:/CTy_TNHH_THLA/DuAn_Rac/generator_qr_code/src/pages/Home.js"],"sourcesContent":["const drawQRWithLabels = async () => {\r\n  const canvas = canvasRef.current;\r\n  const ctx = canvas.getContext(\"2d\");\r\n\r\n  const size = 400; // Kích thước toàn bộ ảnh (vuông)\r\n  const qrSize = 240;\r\n  const padding = 20;\r\n  const topLabelHeight = 40;\r\n  const bottomLabelHeight = 40;\r\n\r\n  canvas.width = size;\r\n  canvas.height = size;\r\n  ctx.clearRect(0, 0, size, size);\r\n\r\n  // Nền trắng\r\n  ctx.fillStyle = \"white\";\r\n  ctx.fillRect(0, 0, size, size);\r\n\r\n  // Label trên\r\n  ctx.fillStyle = \"black\";\r\n  ctx.font = \"bold 28px sans-serif\";\r\n  ctx.textAlign = \"center\";\r\n  ctx.fillText(labelTop, size / 2, padding + 20);\r\n\r\n  // Tạo QR code\r\n  const qr = await QRCode.create(text, { errorCorrectionLevel: \"H\" });\r\n  const modules = qr.modules;\r\n  const cellSize = qrSize / modules.size;\r\n\r\n  const startX = (size - qrSize) / 2;\r\n  const startY = padding + topLabelHeight;\r\n\r\n  // Vẽ QR bằng hình vuông\r\n  for (let r = 0; r < modules.size; r++) {\r\n    for (let c = 0; c < modules.size; c++) {\r\n      if (modules.get(r, c)) {\r\n        const x = startX + c * cellSize;\r\n        const y = startY + r * cellSize;\r\n\r\n        ctx.fillStyle = \"black\";\r\n        ctx.fillRect(x, y, cellSize, cellSize);\r\n      }\r\n    }\r\n  }\r\n\r\n  // Vẽ logo ở giữa\r\n  const logoImg = new Image();\r\n  logoImg.src = logoSrc;\r\n  logoImg.onload = () => {\r\n    const logoSize = qrSize * 0.25;\r\n    const logoX = size / 2 - logoSize / 2;\r\n    const logoY = startY + qrSize / 2 - logoSize / 2;\r\n\r\n    // Nền trắng cho logo\r\n    ctx.fillStyle = \"white\";\r\n    ctx.fillRect(logoX - 5, logoY - 5, logoSize + 10, logoSize + 10);\r\n    ctx.drawImage(logoImg, logoX, logoY, logoSize, logoSize);\r\n\r\n    // Label dưới\r\n    ctx.fillStyle = \"black\";\r\n    ctx.font = \"bold 24px sans-serif\";\r\n    ctx.textAlign = \"center\";\r\n    ctx.fillText(labelBottom, size / 2, size - padding);\r\n  };\r\n};\r\n"],"mappings":"AAAA,MAAMA,gBAAgB,GAAG,MAAAA,CAAA,KAAY;EACnC,MAAMC,MAAM,GAAGC,SAAS,CAACC,OAAO;EAChC,MAAMC,GAAG,GAAGH,MAAM,CAACI,UAAU,CAAC,IAAI,CAAC;EAEnC,MAAMC,IAAI,GAAG,GAAG,CAAC,CAAC;EAClB,MAAMC,MAAM,GAAG,GAAG;EAClB,MAAMC,OAAO,GAAG,EAAE;EAClB,MAAMC,cAAc,GAAG,EAAE;EACzB,MAAMC,iBAAiB,GAAG,EAAE;EAE5BT,MAAM,CAACU,KAAK,GAAGL,IAAI;EACnBL,MAAM,CAACW,MAAM,GAAGN,IAAI;EACpBF,GAAG,CAACS,SAAS,CAAC,CAAC,EAAE,CAAC,EAAEP,IAAI,EAAEA,IAAI,CAAC;;EAE/B;EACAF,GAAG,CAACU,SAAS,GAAG,OAAO;EACvBV,GAAG,CAACW,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAET,IAAI,EAAEA,IAAI,CAAC;;EAE9B;EACAF,GAAG,CAACU,SAAS,GAAG,OAAO;EACvBV,GAAG,CAACY,IAAI,GAAG,sBAAsB;EACjCZ,GAAG,CAACa,SAAS,GAAG,QAAQ;EACxBb,GAAG,CAACc,QAAQ,CAACC,QAAQ,EAAEb,IAAI,GAAG,CAAC,EAAEE,OAAO,GAAG,EAAE,CAAC;;EAE9C;EACA,MAAMY,EAAE,GAAG,MAAMC,MAAM,CAACC,MAAM,CAACC,IAAI,EAAE;IAAEC,oBAAoB,EAAE;EAAI,CAAC,CAAC;EACnE,MAAMC,OAAO,GAAGL,EAAE,CAACK,OAAO;EAC1B,MAAMC,QAAQ,GAAGnB,MAAM,GAAGkB,OAAO,CAACnB,IAAI;EAEtC,MAAMqB,MAAM,GAAG,CAACrB,IAAI,GAAGC,MAAM,IAAI,CAAC;EAClC,MAAMqB,MAAM,GAAGpB,OAAO,GAAGC,cAAc;;EAEvC;EACA,KAAK,IAAIoB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGJ,OAAO,CAACnB,IAAI,EAAEuB,CAAC,EAAE,EAAE;IACrC,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGL,OAAO,CAACnB,IAAI,EAAEwB,CAAC,EAAE,EAAE;MACrC,IAAIL,OAAO,CAACM,GAAG,CAACF,CAAC,EAAEC,CAAC,CAAC,EAAE;QACrB,MAAME,CAAC,GAAGL,MAAM,GAAGG,CAAC,GAAGJ,QAAQ;QAC/B,MAAMO,CAAC,GAAGL,MAAM,GAAGC,CAAC,GAAGH,QAAQ;QAE/BtB,GAAG,CAACU,SAAS,GAAG,OAAO;QACvBV,GAAG,CAACW,QAAQ,CAACiB,CAAC,EAAEC,CAAC,EAAEP,QAAQ,EAAEA,QAAQ,CAAC;MACxC;IACF;EACF;;EAEA;EACA,MAAMQ,OAAO,GAAG,IAAIC,KAAK,CAAC,CAAC;EAC3BD,OAAO,CAACE,GAAG,GAAGC,OAAO;EACrBH,OAAO,CAACI,MAAM,GAAG,MAAM;IACrB,MAAMC,QAAQ,GAAGhC,MAAM,GAAG,IAAI;IAC9B,MAAMiC,KAAK,GAAGlC,IAAI,GAAG,CAAC,GAAGiC,QAAQ,GAAG,CAAC;IACrC,MAAME,KAAK,GAAGb,MAAM,GAAGrB,MAAM,GAAG,CAAC,GAAGgC,QAAQ,GAAG,CAAC;;IAEhD;IACAnC,GAAG,CAACU,SAAS,GAAG,OAAO;IACvBV,GAAG,CAACW,QAAQ,CAACyB,KAAK,GAAG,CAAC,EAAEC,KAAK,GAAG,CAAC,EAAEF,QAAQ,GAAG,EAAE,EAAEA,QAAQ,GAAG,EAAE,CAAC;IAChEnC,GAAG,CAACsC,SAAS,CAACR,OAAO,EAAEM,KAAK,EAAEC,KAAK,EAAEF,QAAQ,EAAEA,QAAQ,CAAC;;IAExD;IACAnC,GAAG,CAACU,SAAS,GAAG,OAAO;IACvBV,GAAG,CAACY,IAAI,GAAG,sBAAsB;IACjCZ,GAAG,CAACa,SAAS,GAAG,QAAQ;IACxBb,GAAG,CAACc,QAAQ,CAACyB,WAAW,EAAErC,IAAI,GAAG,CAAC,EAAEA,IAAI,GAAGE,OAAO,CAAC;EACrD,CAAC;AACH,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import{useState}from\"react\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function CreateUser(){const[formData,setFormData]=useState({fullName:\"\",username:\"\",password:\"1\",phone:\"0987654321\",role:\"user\",createdBy:1// thay bằng userID đang đăng nhập\n});const[loading,setLoading]=useState(false);const[message,setMessage]=useState(\"\");const handleChange=e=>{setFormData({...formData,[e.target.name]:e.target.value});};const handleSubmit=async e=>{e.preventDefault();setLoading(true);setMessage(\"\");try{await axios.post(\"https://duanrac-api-node-habqhehnc6a2hkaq.southeastasia-01.azurewebsites.net/user\",formData);setMessage(\"✅ Tạo tài khoản thành công!\");setFormData({fullName:\"\",username:\"\",password:\"1\",phone:\"0987654321\",role:\"user\",createdBy:1});}catch(error){if(error.response&&error.response.data){setMessage(\"❌ \"+error.response.data);}else{setMessage(\"❌ Có lỗi xảy ra khi kết nối máy chủ\");}}setLoading(false);};const containerStyle={minHeight:\"100vh\",display:\"flex\",justifyContent:\"center\",alignItems:\"center\",backgroundColor:\"#f0f2f5\",padding:\"20px\",position:\"relative\"};const formStyle={backgroundColor:\"#fff\",padding:\"25px\",borderRadius:\"10px\",maxWidth:\"400px\",width:\"100%\",boxShadow:\"0 0 10px rgba(0,0,0,0.1)\"};const inputStyle={width:\"100%\",padding:\"10px\",marginTop:\"10px\",borderRadius:\"5px\",border:\"1px solid #ccc\",fontSize:\"16px\",outline:\"none\"};const buttonStyle={width:\"100%\",padding:\"12px\",marginTop:\"20px\",backgroundColor:loading?\"#7aa7d9\":\"#007bff\",border:\"none\",color:\"white\",fontWeight:\"bold\",borderRadius:\"5px\",cursor:\"pointer\"};const titleStyle={textAlign:\"center\",marginBottom:\"20px\"};const messageStyle={marginTop:\"10px\",textAlign:\"center\",fontWeight:\"bold\"};const spinnerOverlayStyle={position:\"absolute\",top:0,left:0,width:\"100%\",height:\"100%\",backgroundColor:\"rgba(255,255,255,0.6)\",display:\"flex\",justifyContent:\"center\",alignItems:\"center\",zIndex:10};const spinnerStyle={border:\"6px solid #f3f3f3\",borderTop:\"6px solid #007bff\",borderRadius:\"50%\",width:\"40px\",height:\"40px\",animation:\"spin 1s linear infinite\"};return/*#__PURE__*/_jsxs(\"div\",{style:containerStyle,children:[/*#__PURE__*/_jsx(\"style\",{children:`@keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n        }`}),loading&&/*#__PURE__*/_jsx(\"div\",{style:spinnerOverlayStyle,children:/*#__PURE__*/_jsx(\"div\",{style:spinnerStyle})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,style:formStyle,children:[/*#__PURE__*/_jsx(\"h2\",{style:titleStyle,children:\"T\\u1EA1o t\\xE0i kho\\u1EA3n\"}),/*#__PURE__*/_jsx(\"input\",{style:inputStyle,type:\"text\",name:\"fullName\",placeholder:\"H\\u1ECD v\\xE0 t\\xEAn\",value:formData.fullName,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{style:inputStyle,type:\"text\",name:\"username\",placeholder:\"T\\xEAn \\u0111\\u0103ng nh\\u1EADp\",value:formData.username,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{style:inputStyle,type:\"password\",name:\"password\",placeholder:\"M\\u1EADt kh\\u1EA9u\",value:formData.password,onChange:handleChange,required:true,readOnly:true}),/*#__PURE__*/_jsx(\"input\",{style:inputStyle,type:\"text\",name:\"phone\",placeholder:\"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\",value:formData.phone,onChange:handleChange,readOnly:true}),/*#__PURE__*/_jsxs(\"select\",{name:\"role\",value:formData.role,onChange:handleChange,style:inputStyle,disabled:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"user\",children:\"Ng\\u01B0\\u1EDDi d\\xF9ng\"}),/*#__PURE__*/_jsx(\"option\",{value:\"admin\",children:\"Qu\\u1EA3n tr\\u1ECB\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,style:buttonStyle,children:loading?\"Đang tạo...\":\"Tạo tài khoản\"}),message&&/*#__PURE__*/_jsx(\"p\",{style:messageStyle,children:message})]})]});}","map":{"version":3,"names":["useState","axios","jsx","_jsx","jsxs","_jsxs","CreateUser","formData","setFormData","fullName","username","password","phone","role","createdBy","loading","setLoading","message","setMessage","handleChange","e","target","name","value","handleSubmit","preventDefault","post","error","response","data","containerStyle","minHeight","display","justifyContent","alignItems","backgroundColor","padding","position","formStyle","borderRadius","maxWidth","width","boxShadow","inputStyle","marginTop","border","fontSize","outline","buttonStyle","color","fontWeight","cursor","titleStyle","textAlign","marginBottom","messageStyle","spinnerOverlayStyle","top","left","height","zIndex","spinnerStyle","borderTop","animation","style","children","onSubmit","type","placeholder","onChange","required","readOnly","disabled"],"sources":["D:/CTy_TNHH_THLA/DuAn_Rac/generator_qr_code/src/pages/CreateUser.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nexport default function CreateUser() {\r\n  const [formData, setFormData] = useState({\r\n    fullName: \"\",\r\n    username: \"\",\r\n    password: \"1\",\r\n    phone: \"0987654321\",\r\n    role: \"user\",\r\n    createdBy: 1, // thay bằng userID đang đăng nhập\r\n  });\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setMessage(\"\");\r\n\r\n    try {\r\n      await axios.post(\"https://duanrac-api-node-habqhehnc6a2hkaq.southeastasia-01.azurewebsites.net/user\", formData);\r\n      setMessage(\"✅ Tạo tài khoản thành công!\");\r\n      setFormData({\r\n        fullName: \"\",\r\n        username: \"\",\r\n        password: \"1\",\r\n        phone: \"0987654321\",\r\n        role: \"user\",\r\n        createdBy: 1,\r\n      });\r\n    } catch (error) {\r\n      if (error.response && error.response.data) {\r\n        setMessage(\"❌ \" + error.response.data);\r\n      } else {\r\n        setMessage(\"❌ Có lỗi xảy ra khi kết nối máy chủ\");\r\n      }\r\n    }\r\n\r\n    setLoading(false);\r\n  };\r\n\r\n  const containerStyle = {\r\n    minHeight: \"100vh\",\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    backgroundColor: \"#f0f2f5\",\r\n    padding: \"20px\",\r\n    position: \"relative\",\r\n  };\r\n\r\n  const formStyle = {\r\n    backgroundColor: \"#fff\",\r\n    padding: \"25px\",\r\n    borderRadius: \"10px\",\r\n    maxWidth: \"400px\",\r\n    width: \"100%\",\r\n    boxShadow: \"0 0 10px rgba(0,0,0,0.1)\",\r\n  };\r\n\r\n  const inputStyle = {\r\n    width: \"100%\",\r\n    padding: \"10px\",\r\n    marginTop: \"10px\",\r\n    borderRadius: \"5px\",\r\n    border: \"1px solid #ccc\",\r\n    fontSize: \"16px\",\r\n    outline: \"none\",\r\n  };\r\n\r\n  const buttonStyle = {\r\n    width: \"100%\",\r\n    padding: \"12px\",\r\n    marginTop: \"20px\",\r\n    backgroundColor: loading ? \"#7aa7d9\" : \"#007bff\",\r\n    border: \"none\",\r\n    color: \"white\",\r\n    fontWeight: \"bold\",\r\n    borderRadius: \"5px\",\r\n    cursor: \"pointer\",\r\n  };\r\n\r\n  const titleStyle = {\r\n    textAlign: \"center\",\r\n    marginBottom: \"20px\",\r\n  };\r\n\r\n  const messageStyle = {\r\n    marginTop: \"10px\",\r\n    textAlign: \"center\",\r\n    fontWeight: \"bold\",\r\n  };\r\n\r\n  const spinnerOverlayStyle = {\r\n    position: \"absolute\",\r\n    top: 0,\r\n    left: 0,\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    backgroundColor: \"rgba(255,255,255,0.6)\",\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    zIndex: 10,\r\n  };\r\n\r\n  const spinnerStyle = {\r\n    border: \"6px solid #f3f3f3\",\r\n    borderTop: \"6px solid #007bff\",\r\n    borderRadius: \"50%\",\r\n    width: \"40px\",\r\n    height: \"40px\",\r\n    animation: \"spin 1s linear infinite\",\r\n  };\r\n\r\n  return (\r\n    <div style={containerStyle}>\r\n      {/* Spinner animation keyframes */}\r\n      <style>\r\n        {`@keyframes spin {\r\n            0% { transform: rotate(0deg); }\r\n            100% { transform: rotate(360deg); }\r\n        }`}\r\n      </style>\r\n\r\n      {loading && (\r\n        <div style={spinnerOverlayStyle}>\r\n          <div style={spinnerStyle}></div>\r\n        </div>\r\n      )}\r\n\r\n      <form onSubmit={handleSubmit} style={formStyle}>\r\n        <h2 style={titleStyle}>Tạo tài khoản</h2>\r\n\r\n        <input\r\n          style={inputStyle}\r\n          type=\"text\"\r\n          name=\"fullName\"\r\n          placeholder=\"Họ và tên\"\r\n          value={formData.fullName}\r\n          onChange={handleChange}\r\n          required\r\n        />\r\n\r\n        <input\r\n          style={inputStyle}\r\n          type=\"text\"\r\n          name=\"username\"\r\n          placeholder=\"Tên đăng nhập\"\r\n          value={formData.username}\r\n          onChange={handleChange}\r\n          required\r\n        />\r\n\r\n        <input\r\n          style={inputStyle}\r\n          type=\"password\"\r\n          name=\"password\"\r\n          placeholder=\"Mật khẩu\"\r\n          value={formData.password}\r\n          onChange={handleChange}\r\n          required\r\n          readOnly\r\n        />\r\n\r\n        <input\r\n          style={inputStyle}\r\n          type=\"text\"\r\n          name=\"phone\"\r\n          placeholder=\"Số điện thoại\"\r\n          value={formData.phone}\r\n          onChange={handleChange}\r\n          readOnly\r\n        />\r\n\r\n        <select\r\n          name=\"role\"\r\n          value={formData.role}\r\n          onChange={handleChange}\r\n          style={inputStyle}\r\n          disabled\r\n        >\r\n          <option value=\"user\">Người dùng</option>\r\n          <option value=\"admin\">Quản trị</option>\r\n        </select>\r\n\r\n        <button type=\"submit\" disabled={loading} style={buttonStyle}>\r\n          {loading ? \"Đang tạo...\" : \"Tạo tài khoản\"}\r\n        </button>\r\n\r\n        {message && <p style={messageStyle}>{message}</p>}\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"var _jsxFileName = \"D:\\\\CTy_TNHH_THLA\\\\DuAn_Rac\\\\generator_qr_code\\\\src\\\\pages\\\\Home.js\",\n  _s = $RefreshSig$();\nimport logoSrc from '../img/logo.png';\nimport React, { useState, useRef } from \"react\";\nimport QRCode from \"qrcode\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst QRWithCircleModules = () => {\n  _s();\n  const [text, setText] = useState(\"Hello World!\");\n  const canvasRef = useRef(null);\n  const logoSrc = \"/logo.png\"; // logo nằm trong public/\n\n  const drawRoundedQR = async () => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext(\"2d\");\n    const size = 300;\n    canvas.width = size;\n    canvas.height = size;\n    ctx.clearRect(0, 0, size, size);\n\n    // Tạo dữ liệu QR code\n    const qr = await QRCode.create(text, {\n      errorCorrectionLevel: \"H\"\n    });\n    const modules = qr.modules;\n    const cellSize = size / modules.size;\n\n    // Vẽ các ô mã QR dạng hình tròn\n    for (let r = 0; r < modules.size; r++) {\n      for (let c = 0; c < modules.size; c++) {\n        if (modules.get(r, c)) {\n          const x = c * cellSize + cellSize / 2;\n          const y = r * cellSize + cellSize / 2;\n          const radius = cellSize * 0.4;\n          ctx.beginPath();\n          ctx.arc(x, y, radius, 0, 2 * Math.PI);\n          ctx.fillStyle = \"black\";\n          ctx.fill();\n        }\n      }\n    }\n\n    // Vẽ logo ở giữa\n    const logoImg = new Image();\n    logoImg.src = logoSrc;\n    logoImg.onload = () => {\n      const logoSize = size * 0.2;\n      const x = (size - logoSize) / 2;\n      const y = (size - logoSize) / 2;\n\n      // Vẽ nền trắng cho logo (bo góc)\n      ctx.fillStyle = \"white\";\n      ctx.fillRect(x, y, logoSize, logoSize);\n      ctx.drawImage(logoImg, x, y, logoSize, logoSize);\n    };\n  };\n  const downloadQR = () => {\n    const canvas = canvasRef.current;\n    const url = canvas.toDataURL(\"image/png\");\n    const link = document.createElement(\"a\");\n    link.href = url;\n    link.download = \"qr-rounded.png\";\n    link.click();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 20\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"M\\xE3 QR bo tr\\xF2n c\\xF3 logo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      value: text,\n      onChange: e => setText(e.target.value),\n      placeholder: \"Nh\\u1EADp n\\u1ED9i dung\",\n      style: {\n        padding: 8,\n        width: 300\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: drawRoundedQR,\n      style: {\n        margin: \"10px\"\n      },\n      children: \"T\\u1EA1o m\\xE3 QR\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: downloadQR,\n      children: \"T\\u1EA3i xu\\u1ED1ng\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: canvasRef,\n      width: 300,\n      height: 300,\n      style: {\n        marginTop: 20\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n};\n_s(QRWithCircleModules, \"ZHZCasLs128hOYEBYyBkEDSl4YQ=\");\n_c = QRWithCircleModules;\nexport default QRWithCircleModules;\nvar _c;\n$RefreshReg$(_c, \"QRWithCircleModules\");","map":{"version":3,"names":["logoSrc","React","useState","useRef","QRCode","jsxDEV","_jsxDEV","QRWithCircleModules","_s","text","setText","canvasRef","drawRoundedQR","canvas","current","ctx","getContext","size","width","height","clearRect","qr","create","errorCorrectionLevel","modules","cellSize","r","c","get","x","y","radius","beginPath","arc","Math","PI","fillStyle","fill","logoImg","Image","src","onload","logoSize","fillRect","drawImage","downloadQR","url","toDataURL","link","document","createElement","href","download","click","style","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","placeholder","onClick","margin","ref","marginTop","_c","$RefreshReg$"],"sources":["D:/CTy_TNHH_THLA/DuAn_Rac/generator_qr_code/src/pages/Home.js"],"sourcesContent":["import logoSrc from '../img/logo.png';\r\nimport React, { useState, useRef } from \"react\";\r\nimport QRCode from \"qrcode\";\r\n\r\nconst QRWithCircleModules = () => {\r\n  const [text, setText] = useState(\"Hello World!\");\r\n  const canvasRef = useRef(null);\r\n  const logoSrc = \"/logo.png\"; // logo nằm trong public/\r\n\r\n  const drawRoundedQR = async () => {\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas.getContext(\"2d\");\r\n    const size = 300;\r\n\r\n    canvas.width = size;\r\n    canvas.height = size;\r\n    ctx.clearRect(0, 0, size, size);\r\n\r\n    // Tạo dữ liệu QR code\r\n    const qr = await QRCode.create(text, { errorCorrectionLevel: \"H\" });\r\n    const modules = qr.modules;\r\n    const cellSize = size / modules.size;\r\n\r\n    // Vẽ các ô mã QR dạng hình tròn\r\n    for (let r = 0; r < modules.size; r++) {\r\n      for (let c = 0; c < modules.size; c++) {\r\n        if (modules.get(r, c)) {\r\n          const x = c * cellSize + cellSize / 2;\r\n          const y = r * cellSize + cellSize / 2;\r\n          const radius = cellSize * 0.4;\r\n\r\n          ctx.beginPath();\r\n          ctx.arc(x, y, radius, 0, 2 * Math.PI);\r\n          ctx.fillStyle = \"black\";\r\n          ctx.fill();\r\n        }\r\n      }\r\n    }\r\n\r\n    // Vẽ logo ở giữa\r\n    const logoImg = new Image();\r\n    logoImg.src = logoSrc;\r\n    logoImg.onload = () => {\r\n      const logoSize = size * 0.2;\r\n      const x = (size - logoSize) / 2;\r\n      const y = (size - logoSize) / 2;\r\n\r\n      // Vẽ nền trắng cho logo (bo góc)\r\n      ctx.fillStyle = \"white\";\r\n      ctx.fillRect(x, y, logoSize, logoSize);\r\n      ctx.drawImage(logoImg, x, y, logoSize, logoSize);\r\n    };\r\n  };\r\n\r\n  const downloadQR = () => {\r\n    const canvas = canvasRef.current;\r\n    const url = canvas.toDataURL(\"image/png\");\r\n    const link = document.createElement(\"a\");\r\n    link.href = url;\r\n    link.download = \"qr-rounded.png\";\r\n    link.click();\r\n  };\r\n\r\n  return (\r\n    <div style={{ padding: 20 }}>\r\n      <h2>Mã QR bo tròn có logo</h2>\r\n      <input\r\n        value={text}\r\n        onChange={(e) => setText(e.target.value)}\r\n        placeholder=\"Nhập nội dung\"\r\n        style={{ padding: 8, width: 300 }}\r\n      />\r\n      <br />\r\n      <button onClick={drawRoundedQR} style={{ margin: \"10px\" }}>\r\n        Tạo mã QR\r\n      </button>\r\n      <button onClick={downloadQR}>Tải xuống</button>\r\n      <br />\r\n      <canvas ref={canvasRef} width={300} height={300} style={{ marginTop: 20 }} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default QRWithCircleModules;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}